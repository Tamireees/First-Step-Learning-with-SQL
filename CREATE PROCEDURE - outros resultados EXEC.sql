
-- UMA FORMA DE EXECUTAR:

--DECLARE @CPF AS VARCHAR(12) = '19290992743'
--DECLARE @DATA_INICIAL AS DATETIME = '20160101'
--DECLARE @DATA_FINAL AS DATETIME = '20161231'

--SELECT * FROM [NOTAS FISCAIS] WHERE CPF = @CPF
--AND DATA >= @DATA_INICIAL AND DATA <= @DATA_FINAL;

-- EXECUTANDO COM PROCEDURE:

CREATE PROCEDURE BuscaNotasCliente
 @CPF AS VARCHAR(12) = '19290992743',
 @DATA_INICIAL AS DATETIME = '20160101',
 @DATA_FINAL AS DATETIME = '20161231'
 AS
 BEGIN
	SELECT * FROM [NOTAS FISCAIS] WHERE CPF = @CPF
	AND DATA >= @DATA_INICIAL AND DATA <= @DATA_FINAL;
END;

-- PARA FAZER A EXECUCAO COM OS PARAMETROS FEITO NA 'CREATE PROCEDURE EM VERMELHO':

EXEC BuscaNotasCliente

-- PARA A BUSCA COM OUTROS PARAMENTROS:

EXEC BuscaNotasCliente '19290992743', '20160501'

EXEC BuscaNotasCliente @CPF='19290992743', @DATA_INICIAL='20160501', @DATA_FINAL='20160615'

EXEC BuscaNotasCliente '19290992743', DEFAULT, '20160615'

